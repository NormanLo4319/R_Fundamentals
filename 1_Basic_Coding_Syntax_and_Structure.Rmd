---
title: "Basic Coding Syntax and Structure in R"
author: "Norman Lo"
date: "5/19/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## 1.1 - Basic Mathematical Operations

As a programming language, R is built for basic mathematical operations.  We begin our exploration of R from these simple operations.  

|  Arithmetic Operators  |  Operations  |  Examples  |
|  :---:  |  :---:  |  :---:  |
|  +  |  Addition  |  15 + 5 = 20  |
|  -  |  Subtraction  |  15 - 5 = 10  |
|  *  |  Multiplication  |  15 * 5 = 75  |
|  /  |  Division  |  15 / 5 = 3  |
|  %/%  |  Integer Division  |  16%/% 3 = 5  |
|  ^  |  Exponent  |  15 ^ 3 = 3375  |
|  %%  |  Modulus  |  15 %% 5 = 0, 17%% 4 = 1  |

Here are some coding examples:

```{r Mathematical Operations 1}
# Addition
1 + 1 + 10

# Subtraction
10 - 5 - 1

# Multipication
3 * 2 * 4

# Division
10 / 5

# Exponent, returns the power of one variable against the other
2^4

# Modulus, returns the remainder after the division
17%%4

```

The above examples demonstrates the simple mathematical operations in R. It is worth to note that R is similar to other programming language, which follows the **order of operation**.  Here are some examples to demonstrate:

``` {r Mathematical Operations 2}
# Multiplication before addition
5 + 6 * 4

# Parenthese always goes first
(5 + 6) * 4

# Mixed with the parenthese with other operators
5 + 6 * (4 - 2)

```

Note: we have been using white space to separate the operators with the numbers in the previou examples, but it is not necessarily to leave a whitespace in coding.  However, it would be a good practice to improve the readability in your code.

## 1.2 - Variable

#### Variable Assignment

In any computer programming language, variable assignment is essential and a fundametal construct.  An assigment statement sets and/or re-sets the value stored in the storage location(s) dentoed by a variable name; in other words, it copies a vlaue into the variable. R actually provides more flexibility to variable assignment.  For instance, R does not require a declaration of a variable before assignment.  Almost any R object can be assigned to variable, such as function, statistical summary, plot, or any data type object.  

In R, we can use either "<-" or "=" for assignment statement (we suggest using the first assignment operator "<-"). Here are a few examples to demonstrate how to assign value to variable in R:

```{r Variable 1}
# Assign 2 to x
x <- 2
x

# Assign 5 to y
y = 5
y

# The arrow operator can also be used in reverse direction
3 -> z
z

# The arrow operator can be used to assign multiple variables at a time
a <- b <- 7
a
b

# Sometime we can also use a more complex assignment statement, assign()
assign("j", 4)
j
```

Variable name can be any character, number, priod(.), and underscore(_) combination, but it cannot start with a number nor undersscore(_). Also, it would be good practice to use some meaningful word to name the variable, so the code can be easily interpreted. 

#### Remove Variable

Sometime we need to remove a variable in a project, which we can use the remove() or rm() functions.

``` {r Variable 2}
# Remove a variable
x <- 2
remove(x)
# x  <- return error message

j <- "Hello"
rm(j)
# j  <- return error message

```

R variable is case sensitive like C and Java, so SQL and Visual Basic users many need to adopt to this different.

``` {r Variable 3}
# Assign 17 to theVariable
theVariable <- 17
theVariable

# THEVARIABLE  <- return error message
```

## 1.3 - Data Types

R has a wide variety of data types, which the basic four major data types are numeric, character, date/POSIXct, and logical. An easy way to check the type of data is using class() function.

``` {r Data Types 1}
# Checking the data type using class()
x <- 2
class(x)

y <- 2.50
class(y)
```

#### Numeric Data

Numeric data is one of the most popular data type in any analytic study. The most frequently used numeric data in R is **numeric** object, which is similar to float and double in differen programming languages.  Numeric includes positive integers, negative integers, decimal points, and zero.  Any numeric value assigned to a variable is defined as numeric automatically. We can use is.numeric() function to check if a variable contains numeric data only. 

``` {r Data Type 2}
# Check if variable x contains only numeric data only
is.numeric(x)
```

Another numeric data in R is integer, which only include integers but not decimal point. When we want to assign an integer to a variable, we need to add the letter "L" at the end of the number.  We can use is.integer() function to check if a variable contains integer data only.

``` {r Data Type 3}
# Assign an integer 5 to variable i
i <- 5L
i

# Check if variable i contains only integer data
is.integer(i)

# Note that even though the data type in i is defined as integer, it is also numeric by definition
is.numeric(i)
```

In some cases, R automatically transform integer to numeric.  For instance, when multiply an **integer** by a **numeric** or divide an **integer** by an **integer**.  Here are some examples:

``` {r Data Type 4}
# 4L is an integer
class(4L)

# 2.8 is a numeric
class(2.8)

# Multiply 4L by 2.8 returns a numeric
class(4L*2.8)

# 5L is an integer
class(5L)

# 2L is an integer
class(2L)

# Divide 5L by 2L returns a numeric
class(5L/2L)
```

#### Character Data

A character object is used to represent string values in R, which is another populr data type in statistical analysis.  R provides two ways to process string values: **character** or **factor**.  Most people confused about the application of the two, but we are not going to discuss the different of the two in this section.

``` {r Data Type 5}
# Assign a string to variable x
x <- "data"
x

# Assign a string to variable y using factor()
y <- factor("data")
y
```

Note that the string "data" from variable x is wrapped by the double quotes, but the string "data" from variable y is not.  Also, the return value of y includes a second line, the "levels" detail, which will be discussed later when we introduce **vectors**.

**character** is case sensitive, so "Data", "data, and "DATA" are different string values.  The find the length of a character (or numeric), we can use nchar() function.

``` {r Data Type 6}
x <- "data"

# Find the length of the string in x
nchar(x)

# Find the length of the string "Hello"
nchar("Hello")

# Find the length of the numeric 3
nchar(3)

# Find the length of the numeric 452
nchar(452)

# nchar does not apply to factor object
# nchar(y)  <- return error message
```

#### Date & POSIXct

Processing date time data is a challenging task in any programming language.  Even more confusing to R beginners is that R has more than one data type to store date time data. We recommend to master using **Date** and **POSIXct** before exploring other options. **Date** is only used to create date type data and **POSIXct** can be used to create date-time data.  Both objects start on the date 1/1/1970.  Here are some example to demonstrate the use of the two:

``` {r Data Type 7}
# Assign a date type data using as.Date() function
date1 <- as.Date("2012-06-28")
date1

# Check the data type of date1
class(date1)

# Transforming date1 to numeric
as.numeric(date1)

# Assign a date-time data using as.POSIXct() function
date2 <- as.POSIXct("2012-06-28 17:42")
date2

# Check the date type of date2
class(date2)

# Transform date2 to numeric
as.numeric(date2)
```

Tips: For more efficient date-time data process, we recommend to also use **lubridate** and **chron** package.

Note: When using as.numeric() and as.Date(), we are not only transforming the data format, it also change the data type.

#### Logicals Data

The logical class can only take on two values, TRUE or FALSE. In fact, the logical values of TRUE always have a numeric value of 1, while logical values of FALSE always have a numeric value of 0. Therefore, when we multiply TRUE by 5, it returns a value of 5, vice versa, multiply FALSE by 5, it returns a value of 0.

``` {r Data Type 7}
# Multiply TRUE by 5
TRUE * 5

# Multiply FALSE by 5
FALSE * 5
```

Similar to other data type, we can use class() or is.logical() functions to identify the data type.

``` {r Data Type 8}
# Assign TRUE to variable k
k <- TRUE

# Check the data type using class()
class(k)

# Check if k contains only logicals data
is.logical(k)
```

R also provides **T** and **F** as the short forms for TRUE and FALSE. However, **T** and **F** are just a variable assigned with the logical value TRUE and FALSE, which means we can also assign other values to them as well. Therefore, we do not recommend beginners to use these short forms to avoid confusion in the code. Here is an examples:

``` {r Data Type 9}
# Compare the return value from TRUE and T
TRUE

T

# Check the data type of T
class(T)

# Assign a new value to T
T <- 10
T

# Check the data type of T again
class(T)
```

logicals can be generated by comparing two numeric values (or string values).

``` {r Date Type 10}
# 2 equals to 3?
2 == 3

# 2 not equals to 3?
2 != 3

# 2 is smaller than 3?
2 < 3

# 2 is smaller than or equal to 3?
2 <= 3

# 2 is greater than 3?
2 > 3

# 2 is greater than or equal to 3?
2 >= 3

# "data" is the same as "stats"?
"data"  == "stats"

# "data" is less than "stats"?
"data" < "stats"
```

## 1.4 - Factor Vector

**Vector** is a basic data structure in R.  It is an ordered collection of elements of the same type.  The data type can be logical, interger, double, character, complex or raw. Vector are generally created using the c() function (means "combine"), for instance, c(1, 3, 2, 1, 5) is a vector with numeric elements.  Similarly, c("R", "Excel", "SAS", "Python") is a vector with character elements. R does not allow different data type to be assigned into a vector.  

Vector is a very important data structure in R. In many years, vector has been used to develop the vectorized functions, which allows mathematical operations can be automatically applied to each of the elements in a vector without looping through it. It could be a new concept to people with other programming language background, but it actaully increase the computation efficiency in R significantly.

``` {r Vector 1}
# Create a vector with 10 numeric elements
x <- c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)
x

# Create a vector with 5 string elements
y < - c("red", "blue", "green", "yellow", "purple")
y
```

#### Vectorized Operations

Many operations in R are vectorized, meaning that operations occur in parallel in certain R objects.  This allow us to write code that is efficient, concise, and easier to read than in non-vectorized languages.  Here are some examples to demonstrate:

``` {r Vector 2}
# Create a vector with 10 numeric elements
x <- c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)

# Multiply each element in the vector by 3
x * 3

# Add 2 to each element in the vector
x + 2

# Subtract 3 from each element in the vector
x - 3

# Divide each element in the vector by 4
x / 4

# Square each element in the vector
x^2

# Take square-root of each element in the vector
sqrt(x)
```

In the previous example, we created a vector with 10 numeric element from 1 to 10.  We can also use the **:** operator to create a sequence of numbers in R.

``` {r Vector 3}
# Sequence from 1 to 10
1:10

# Sequence from 10 to 1
10:1

# Sequance from -2 to 3
-2:3

# Sequance from 5 to -7
5:-7
```

Vectorize operations are widely applicable.  Suppose we have two vector with equal length, the vectorized operation allow each element in a vector to operate with the corresponding element in another vector.

``` {r Vector 4}
# Create two vectors with the same length
x <- 1:10
y <- -5:4

# Check the length of each vector
length(x)
length(y)

# Add two vectors together
x + y

# Subtract a vector to another one
x - y

# Multiply two vectors
x * y

# Divide a vector by another one
x / y

# Take the exponental of one vector to the another one
x^y

# Check the length of the sum of two vectors
length(x+y)
```

Note that when we try to perform an operation on two unequal length vectors, the shorter one will be recycled until all the elements in the long one is matched.  When the length of the long vector is not a multiple to the length of the short vector, the result will return with a warning message.

``` {r Vector 5}
# Create a vector with 10 numeric elements
x <- c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)

# Add a short vector to x
x + c(1, 2)

# Add a short vector to x (10 is not multiple of 3)
x + c(1, 2, 3)  # warning message will return
```

We can also perform the logical operation with vector.

``` {r Vector 6}
# Create two vectors with the same length
x <- 1:10
y <- -5:4

# Check of each element in vector x is smaller than or equals to 5
x <= 5

# Check if the elments in x is less than the corresponding element in y
x < y

# Check if the element in x is larger than the corresponding elelment in y
x > y
```




## 1.5 - R Basic Functions




## 1.6 - Missing Values




## 1.7 - Pipe









